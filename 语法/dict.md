# 数据转换



![](../_image/思维导图.png)

原始数据 `.csv` 文件
```
奴隶社会,非洲,古埃及文明,金字塔
,亚洲,两河流域文明,汉谟拉比法典
,,古印度,种姓制度
,,,佛教的创立
,欧洲,希腊,希腊城邦
,,,雅典民主
,,罗马,城邦
,,,帝国的征服与扩展
,,希腊罗马古典文化,建筑艺术
,,,公历
```

转换后的数据 `.json` 文件
```json
{
    "奴隶社会": [
        {
            "非洲": [
                {
                    "古埃及文明": [
                        {
                            "金字塔": []
                        }
                    ]
                }
            ]
        },
        {
            "亚洲": [
                {
                    "两河流域文明": [
                        {
                            "汉谟拉比法典": []
                        }
                    ]
                },
                {
                    "古印度": [
                        {
                            "种姓制度": []
                        },
                        {
                            "佛教的创立": []
                        }
                    ]
                }
            ]
        },
        {
            "欧洲": [
                {
                    "希腊": [
                        {
                            "希腊城邦": []
                        },
                        {
                            "雅典民主": []
                        }
                    ]
                },
                {
                    "罗马": [
                        {
                            "城邦": []
                        },
                        {
                            "帝国的征服与扩展": []
                        }
                    ]
                },
                {
                    "希腊罗马古典文化": [
                        {
                            "建筑艺术": []
                        },
                        {
                            "公历": []
                        }
                    ]
                }
            ]
        }
    ]
}
```


# 字符串转化成字典dict类型

```py
# 用 eval() 或 exec() 函数实现：
>>> user
"{'name' : 'jim', 'sex' : 'male', 'age': 18}"
>>> b=eval(user)
>>> b
{'age': 18, 'name': 'jim', 'sex': 'male'}
>>> exec("c="+user)
>>> c
{'age': 18, 'name': 'jim', 'sex': 'male'}

# 使用simplejson把JSON转化为Python内置类型
# JSON到字典转化：
ret_dict = simplejson.loads(json_str)
# 字典到JSON转化：
json_str = simplejson.dumps(dict)

# 使用 json.load 进行转换
import json
d = json.loads(param)
```


